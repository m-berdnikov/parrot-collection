(this["webpackJsonpparrot-collection"]=this["webpackJsonpparrot-collection"]||[]).push([[0],{44:function(e,t,c){},45:function(e,t,c){},67:function(e,t,c){},68:function(e,t,c){},69:function(e,t,c){},70:function(e,t,c){},71:function(e,t,c){"use strict";c.r(t);var r=c(0),a=c.n(r),n=c(24),o=c.n(n),s=(c(44),c(73)),i=c(37),l=c(22),j=(c(45),c.p+"static/media/logo.9bfd69cb.svg"),b=c(1);function u(){var e="px-2 inline-block underline underline-offset-4";return Object(b.jsxs)("header",{className:"p-0.5 w-full bg-yellow-500",children:[Object(b.jsx)("img",{src:j,alt:"Parrot",width:"60px",height:"auto",className:"mx-auto"}),Object(b.jsx)("a",{className:e,href:"/parrot-collection/comics",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(b.jsx)("a",{className:e,href:"/parrot-collection/add-comics",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u0438\u043a\u0441"})]})}var p=c(4),d=c(9),x=c(16),m=c.n(x),O=c(39),h=c(27);c(66);function f(){var e=Object(O.a)(),t=e.register,c=e.handleSubmit,r=e.reset,a="mb-2 px-2 border border-yellow-400\trounded focus:outline-none focus:border-pink-300",n="".concat(a," h-10 appearance-none"),o="".concat(a," pt-1 h-20 resize-none"),s=function(e){return Object(h.b)(e)};return Object(b.jsxs)("form",{className:"flex flex-col max-w-xs mt-2 mx-auto",name:"add-comics",onSubmit:c((function(e){var t=e.authors.split(", "),c=e.artists.split(", "),a=e.characters.split(", "),n=e.genres.split(", "),o="";if(e.title){var i={title:e.title,authors:t,artists:c,description:e.description,characters:a,cover:o,genres:n,edition:e.edition,year:e.year,includes:e.includes,volume:e.volume,book:e.book,publisher:e.publisher,original:e.original,original_publisher:e.original_publisher};if(e.cover[0])if(console.log(e.cover[0].size),e.cover[0].size>1e5)s("\u0411\u043e\u043b\u044c\u0448\u043e\u0439 \u0440\u0430\u0437\u043c\u0435\u0440 \u0444\u0430\u0439\u043b\u0430 \u043e\u0431\u043b\u043e\u0436\u043a\u0438");else{var l=new FileReader;l.addEventListener("load",(function(e){o=e.target.result})),l.readAsDataURL(e.cover[0]),m.a.post("".concat("https://parrot-collection.herokuapp.com","/api/comics/add"),i).then((function(e){console.log(e),r(),s("\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e!")})).catch((function(e){console.log(e)}))}else m.a.post("".concat("https://parrot-collection.herokuapp.com","/api/comics/add"),i).then((function(e){console.log(e),r(),s("\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e!")})).catch((function(e){console.log(e)}))}})),children:[Object(b.jsx)("input",Object(d.a)({className:n,type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"},t("title"))),Object(b.jsx)("input",Object(d.a)({className:n,type:"text",placeholder:"\u0410\u0432\u0442\u043e\u0440\u044b"},t("authors"))),Object(b.jsx)("input",Object(d.a)({className:n,type:"text",placeholder:"\u0425\u0443\u0434\u043e\u0436\u043d\u0438\u043a\u0438"},t("artists"))),Object(b.jsx)("textarea",Object(d.a)({className:o,placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"},t("description"))),Object(b.jsx)("input",Object(d.a)({className:n,type:"text",placeholder:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u0436/\u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0438"},t("characters"))),Object(b.jsx)("input",Object(d.a)({className:n,type:"text",placeholder:"\u0416\u0430\u043d\u0440/\u0436\u0430\u043d\u0440\u044b"},t("genres"))),Object(b.jsx)("input",Object(d.a)({className:n,type:"text",placeholder:"\u0422\u0438\u043f \u0438\u0437\u0434\u0430\u043d\u0438\u044f"},t("edition"))),Object(b.jsx)("input",Object(d.a)({className:n,type:"text",placeholder:"\u0412\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0432\u044b\u043f\u0443\u0441\u043a\u0438"},t("includes"))),Object(b.jsx)("input",Object(d.a)({className:n,type:"text",placeholder:"\u0422\u043e\u043c (\u0441\u0435\u0440\u0438\u044f), \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, Venom Volume 1"},t("volume"))),Object(b.jsx)("input",Object(d.a)({className:n,type:"number",placeholder:"\u041d\u043e\u043c\u0435\u0440 \u0442\u043e\u043c\u0430 (\u043a\u043d\u0438\u0433\u0430 \u0432 \u0441\u0435\u0440\u0438\u0438 - 1, 2, 3 \u0438 \u0442.\u0434)"},t("book"))),Object(b.jsx)("input",Object(d.a)({className:n,type:"number",placeholder:"\u0413\u043e\u0434 \u0438\u0437\u0434\u0430\u043d\u0438\u044f"},t("year"))),Object(b.jsx)("input",Object(d.a)({className:n,type:"text",placeholder:"\u0418\u0437\u0434\u0430\u0442\u0435\u043b\u044c"},t("publisher"))),Object(b.jsx)("input",Object(d.a)({className:n,type:"number",placeholder:"\u0413\u043e\u0434 \u0438\u0437\u0434\u0430\u043d\u0438\u044f \u043e\u0440\u0438\u0433\u0438\u043d\u0430\u043b\u0430"},t("original"))),Object(b.jsx)("input",Object(d.a)({className:n,type:"text",placeholder:"\u0418\u0437\u0434\u0430\u0442\u0435\u043b\u044c \u043e\u0440\u0438\u0433\u0438\u043d\u0430\u043b\u0430"},t("original_publisher"))),Object(b.jsx)("input",Object(d.a)({className:n,type:"file",placeholder:"\u0418\u0437\u0434\u0430\u0442\u0435\u043b\u044c \u043e\u0440\u0438\u0433\u0438\u043d\u0430\u043b\u0430"},t("cover"))),Object(b.jsx)("button",{type:"submit",className:"h-10 border border-transparent rounded bg-yellow-400 font-bold text-white",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),Object(b.jsx)(h.a,{})]})}var v=c(7),g=c(25);function N(e){var t=Object(r.useState)(!1),c=Object(v.a)(t,2),a=c[0],n=c[1],o=Object(r.useState)(!1),s=Object(v.a)(o,2),i=s[0],l=s[1],j=Object(r.useState)(!1),u=Object(v.a)(j,2),p=u[0],d=u[1],x=function(e){switch(e){case"collection":!1===a&&!0===p&&d(!1),n(!a);break;case"read":l(!i);break;case"wishlist":d(!p)}};return Object(b.jsxs)("div",{className:"book grid",children:[e.cover?Object(b.jsx)("a",{className:"block w-full h-full",href:"/parrot-collection/comics/".concat(e._id),children:Object(b.jsx)("img",{className:"book__img mx-auto mb-2 hover:cursor-pointer",src:e.cover,alt:e.title})}):Object(b.jsx)("a",{className:"block book__img book__img--mock mx-auto mb-2",href:"/parrot-collection/comics/".concat(e._id),children:" "}),Object(b.jsx)("p",{className:"book__title text-sm",children:e.title}),Object(b.jsxs)("div",{className:"book__buttons mt-3 mx-auto flex justify-between",children:[Object(b.jsx)("div",{className:"book__buttons-item bg-center bg-cover bg-no-repeat transition","data-type":"collection","data-status":a,onClick:function(){return x("collection")}}),Object(b.jsx)("div",{className:"book__buttons-item bg-center bg-cover bg-no-repeat transition","data-type":"read","data-status":i,onClick:function(){return x("read")}}),Object(b.jsx)("div",{className:"book__buttons-item bg-center bg-cover bg-no-repeat transition","data-type":"wishlist","data-status":p,onClick:function(){return x("wishlist")}})]})]})}c(67);function k(){return Object(b.jsx)("div",{className:"loader-wrapper",children:Object(b.jsxs)("div",{className:"loader",children:[Object(b.jsxs)("div",{className:"inner",children:[Object(b.jsx)("div",{className:"left"}),Object(b.jsx)("div",{className:"middle"}),Object(b.jsx)("div",{className:"right"})]}),Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{}),Object(b.jsx)("li",{}),Object(b.jsx)("li",{}),Object(b.jsx)("li",{}),Object(b.jsx)("li",{}),Object(b.jsx)("li",{}),Object(b.jsx)("li",{}),Object(b.jsx)("li",{}),Object(b.jsx)("li",{}),Object(b.jsx)("li",{}),Object(b.jsx)("li",{}),Object(b.jsx)("li",{}),Object(b.jsx)("li",{}),Object(b.jsx)("li",{}),Object(b.jsx)("li",{}),Object(b.jsx)("li",{}),Object(b.jsx)("li",{}),Object(b.jsx)("li",{})]})]})})}var y=c(5),w=c.n(y),_=c(10),C=c(74),L=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],S=["\u0430","\u0431","\u0432","\u0433","\u0434","\u0435","\u0451","\u0436","\u0437","\u0438","\u0439","\u043a","\u043b","\u043c","\u043d","\u043e","\u043f","\u0440","\u0441","\u0442","\u0443","\u0444","\u0445","\u0446","\u0447","\u0448","\u0449","\u044c","\u044b","\u044a","\u044d","\u044e","\u044f"],F=c(38),z=c.n(F),D=(c(68),function(e){var t=e.alphabet,c=e.currentLetter,r=e.handleChooseSection,a=function(e){return r(e.currentTarget.id)};return Object(b.jsx)("div",{className:"alphabet flex justify-center mb-2",children:t.map((function(e){return Object(b.jsx)("p",{className:z()("alphabet__letter mx-px px-1 h-5 leading-5 cursor-pointer border-transparent border-solid border border-transparent uppercase hover:border-yellow-500",c===e&&"border-yellow-500"),id:e,onClick:a,children:e},e)}))})});c(69);function I(){var e=function(){var e=function(){var e=Object(_.a)(w.a.mark((function e(){var t,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("".concat("https://parrot-collection.herokuapp.com","/api/comics/list"));case 2:return t=e.sent,c=t.data,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=Object(C.a)("comics",e);return{isLoading:t.isLoading,error:t.error,data:t.data}}(),t=e.isLoading,c=e.error,a=e.data,n=Object(r.useState)([]),o=Object(v.a)(n,2),s=o[0],i=o[1],l=Object(r.useState)([]),j=Object(v.a)(l,2),u=j[0],p=j[1],x=Object(r.useState)(!1),O=Object(v.a)(x,2),h=O[0],f=O[1],y=Object(r.useState)(""),F=Object(v.a)(y,2),z=F[0],I=F[1],R=function(e){I(e);var t=u.filter((function(t){return t.title.substring(0,1).toLowerCase()===e}));console.log(t),i(t)};return Object(r.useEffect)((function(){if(a){f(!0);var e=a.sort((function(e,t){return e.title>t.title?1:-1}));i(e),p(e),f(!1)}}),[a]),Object(b.jsxs)(b.Fragment,{children:[a&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(D,{alphabet:S,currentLetter:z,handleChooseSection:R}),Object(b.jsx)(D,{alphabet:L,currentLetter:z,handleChooseSection:R}),Object(b.jsx)("p",{className:"mx-auto w-20 cursor-pointer border-transparent border-solid border border-transparent hover:border-yellow-500",onClick:function(){i(u),I("")},children:"\u0412\u0441\u0435"}),Object(b.jsx)("input",{type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u0438\u043a\u0441\u0430",className:"input mt-5 mx-auto mb-8 px-2.5 block h-7 max-w-xs w-full border border-yellow-300 rounded-md outline-none focus:border-pink-300",onChange:function(e){I("");var t=e.target.value.trim(),c=u.filter((function(e){return e.title.toLowerCase().replace(".","").replace(",","").replace("-"," ").replace("(","").replace(")","").includes(t.toLowerCase().replace(".","").replace("-"," "))}));i(c)}}),Object(b.jsx)("div",{className:"list m-auto flex justify-center flex-wrap",children:s.length>0?s.map((function(e){return Object(b.jsx)(N,Object(d.a)({},e),e._id)})):Object(b.jsx)("p",{children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e :("})})]}),(t||h)&&Object(b.jsx)(k,{}),c&&Object(b.jsx)("p",{children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e :("}),Object(b.jsx)(g.ReactQueryDevtools,{initialIsOpen:!1})]})}c(70);var R=function(){var e=Object(p.f)(),t=Object(p.g)()._id,c=["title","authors","artists","description","characters","genres","edition","includes","volume","book","year","publisher","original","original_publisher"],r=function(){var c=Object(_.a)(w.a.mark((function c(){return w.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,m.a.get("".concat("https://parrot-collection.herokuapp.com","/api/comics/").concat(t,"/delete"),{params:{_id:t}}).then((function(t){return"\u0423\u0434\u0430\u043b\u0435\u043d\u043e"===t.data?e("/parrot-collection/comics"):console.log({response:t})}));case 2:return c.abrupt("return",c.sent);case 3:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}}(),a=function(e){var t=function(){var t=Object(_.a)(w.a.mark((function t(){var c,r;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.get("".concat("https://parrot-collection.herokuapp.com","/api/comics/").concat(e),{params:{id:e}});case 2:return c=t.sent,r=c.data,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c=Object(C.a)("comicsItem",t);return{isLoading:c.isLoading,error:c.error,data:c.data}}(t),n=a.isLoading,o=a.error,s=a.data;return o&&console.log({error:o}),Object(b.jsxs)(b.Fragment,{children:[o&&Object(b.jsx)("p",{children:"\u041f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"}),n&&Object(b.jsx)(k,{}),s&&Object(b.jsxs)("div",{children:[s.cover?Object(b.jsx)("img",{className:"book__img mx-auto mb-2 hover:cursor-pointer",src:s.cover,alt:s.title}):Object(b.jsx)("div",{className:"book__img book__img--mock mx-auto mb-2 hover:cursor-pointer"}),Object.keys(s).filter((function(e){return c.includes(e)&&s[e]})).map((function(e){var t=s[e];return Array.isArray(t)?Object(b.jsx)("div",{className:"info-list",children:t.map((function(e){return Object(b.jsx)("p",{children:e},e)}))},e):Object(b.jsx)("p",{children:t},e)})),Object(b.jsx)("button",{className:"mt-4 mx-auto block w-48 h-8 bg-yellow-500",onClick:function(){alert("\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?"),r()},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]}),Object(b.jsx)(g.ReactQueryDevtools,{initialIsOpen:!1})]})},A=function(){return Object(b.jsx)("p",{children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"})};function E(){var e=Object(p.e)();return console.log({location:e}),Object(b.jsx)("main",{className:"my-3 px-10 w-full h-full",children:Object(b.jsxs)(p.c,{children:[Object(b.jsx)(p.a,{path:"*",element:Object(b.jsx)(A,{})}),Object(b.jsx)(p.a,{path:"/parrot-collection",element:Object(b.jsx)(I,{})}),Object(b.jsx)(p.a,{path:"/parrot-collection/add-comics",element:Object(b.jsx)(f,{})}),Object(b.jsx)(p.a,{path:"/parrot-collection/comics",element:Object(b.jsx)(I,{})}),Object(b.jsx)(p.a,{path:"parrot-collection/comics/:_id",element:Object(b.jsx)(R,{})})]})})}function P(){return Object(b.jsx)("footer",{className:"p-3 w-full bg-yellow-500 text-white font-bold",children:"@ 2021 Parrot Collection"})}function q(){return Object(b.jsxs)("div",{className:"grid h-screen text-center wrapper",children:[Object(b.jsx)(u,{}),Object(b.jsx)(E,{}),Object(b.jsx)(P,{})]})}var J=function(){var e=new s.a({defaultOptions:{queries:{refetchOnWindowFocus:!1,keepPreviousData:!1}}});return Object(b.jsx)(l.a,{children:Object(b.jsx)(i.a,{client:e,children:Object(b.jsx)(q,{})})})};o.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(J,{})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.b7d32a0e.chunk.js.map