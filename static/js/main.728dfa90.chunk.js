(this["webpackJsonpparrot-collection"]=this["webpackJsonpparrot-collection"]||[]).push([[0],{45:function(e,t,c){},46:function(e,t,c){},68:function(e,t,c){},69:function(e,t,c){},70:function(e,t,c){},71:function(e,t,c){},72:function(e,t,c){},73:function(e,t,c){"use strict";c.r(t);var r=c(0),a=c.n(r),n=c(25),i=c.n(n),o=(c(45),c(75)),s=c(40),l=c(24),b=(c(46),c.p+"static/media/logo.9bfd69cb.svg"),u=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],j=["\u0430","\u0431","\u0432","\u0433","\u0434","\u0435","\u0451","\u0436","\u0437","\u0438","\u0439","\u043a","\u043b","\u043c","\u043d","\u043e","\u043f","\u0440","\u0441","\u0442","\u0443","\u0444","\u0445","\u0446","\u0447","\u0448","\u0449","\u044c","\u044b","\u044a","\u044d","\u044e","\u044f"],d=[{db:"title",ui:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"},{db:"authors",ui:"\u0410\u0432\u0442\u043e\u0440\u044b"},{db:"artists",ui:"\u0425\u0443\u0434\u043e\u0436\u043d\u0438\u043a\u0438"},{db:"description",ui:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"},{db:"characters",ui:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u0436/\u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0438"},{db:"genres",ui:"\u0416\u0430\u043d\u0440/\u0436\u0430\u043d\u0440\u044b"},{db:"edition",ui:"\u0422\u0438\u043f \u0438\u0437\u0434\u0430\u043d\u0438\u044f"},{db:"includes",ui:"\u0412\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0432\u044b\u043f\u0443\u0441\u043a\u0438"},{db:"volume",ui:"\u0422\u043e\u043c (\u0441\u0435\u0440\u0438\u044f), \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, Venom Volume 1"},{db:"book",ui:"\u041d\u043e\u043c\u0435\u0440 \u0442\u043e\u043c\u0430 (\u043a\u043d\u0438\u0433\u0430 \u0432 \u0441\u0435\u0440\u0438\u0438 - 1, 2, 3 \u0438 \u0442.\u0434)"},{db:"year",ui:"\u0413\u043e\u0434 \u0438\u0437\u0434\u0430\u043d\u0438\u044f"},{db:"publisher",ui:"\u0418\u0437\u0434\u0430\u0442\u0435\u043b\u044c"},{db:"original",ui:"\u0413\u043e\u0434 \u0438\u0437\u0434\u0430\u043d\u0438\u044f \u043e\u0440\u0438\u0433\u0438\u043d\u0430\u043b\u0430"},{db:"original_publisher",ui:"\u0418\u0437\u0434\u0430\u0442\u0435\u043b\u044c \u043e\u0440\u0438\u0433\u0438\u043d\u0430\u043b\u0430"},{db:"cover",ui:"\u041e\u0431\u043b\u043e\u0436\u043a\u0430"}],m=!1,p="/parrot-collection/#",x={comicsItem:function(e){return"".concat(p,"/comics/").concat(e)},comicsList:"".concat(p,"/comics"),comicsForm:"".concat(p,"/add-comics"),api:{getComicsById:function(e){return"".concat("https://parrot-collection.herokuapp.com","/api/comics/").concat(e)},getComicsList:"".concat("https://parrot-collection.herokuapp.com","/api/comics/list"),addNewComics:"".concat("https://parrot-collection.herokuapp.com","/api/comics/add"),deleteComics:function(e){return"".concat("https://parrot-collection.herokuapp.com","/api/comics/").concat(e,"/delete")},updateComics:function(e){return"".concat("https://parrot-collection.herokuapp.com","/api/comics/").concat(e,"/update")}}},O=c(38),h=c(1),f=function(){var e="px-2 inline-block underline underline-offset-4";return Object(h.jsxs)("header",{className:"p-0.5 w-full bg-yellow-500",children:[Object(h.jsx)("img",{src:b,alt:"Parrot",width:"60px",height:"auto",className:"mx-auto"}),Object(h.jsx)("a",{className:e,href:x.comicsList,children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(h.jsx)("a",{className:e,href:x.comicsForm,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u0438\u043a\u0441"})]})},g=c(4),v=c(9),w=c(16),k=c.n(w),N=c(27),y=c(22),_=(c(67),c(7)),C=c(39),L=c.n(C),S=(c(68),function(e){var t=e.alphabet,c=e.currentLetter,r=e.handleChooseSection,a=function(e){return r(e.currentTarget.id)};return Object(h.jsx)("div",{className:"alphabet mb-2 flex justify-center flex-wrap",children:t.map((function(e){return Object(h.jsx)("p",{className:L()("alphabet__letter mx-px px-1 h-5 leading-5 cursor-pointer border-transparent border-solid border border-transparent uppercase hover:border-yellow-500",c===e&&"border-yellow-500"),id:e,onClick:a,children:e},e)}))})}),F=(c(69),function(e){var t=Object(r.useState)(!1),c=Object(_.a)(t,2),a=c[0],n=c[1],i=Object(r.useState)(!1),o=Object(_.a)(i,2),s=o[0],l=o[1],b=Object(r.useState)(!1),u=Object(_.a)(b,2),j=u[0],d=u[1],m=function(e){switch(e){case"collection":!1===a&&!0===j&&d(!1),n(!a);break;case"read":l(!s);break;case"wishlist":d(!j)}};return Object(h.jsxs)("div",{className:"book grid",children:[e.cover?Object(h.jsx)("a",{className:"block w-full h-full",href:x.comicsItem(e._id),children:Object(h.jsx)("img",{className:"book__img mx-auto mb-2 hover:cursor-pointer",src:e.cover,alt:e.title})}):Object(h.jsx)("a",{className:"block book__img book__img--mock mx-auto mb-2",href:x.comicsItem(e._id)}),Object(h.jsx)("p",{className:"book__title mx-auto text-sm",children:e.title}),Object(h.jsxs)("div",{className:"book__buttons mt-3 mx-auto flex justify-between",children:[Object(h.jsx)("div",{className:"book__buttons-item bg-center bg-cover bg-no-repeat transition","data-type":"collection","data-status":a,onClick:function(){return m("collection")}}),Object(h.jsx)("div",{className:"book__buttons-item bg-center bg-cover bg-no-repeat transition","data-type":"read","data-status":s,onClick:function(){return m("read")}}),Object(h.jsx)("div",{className:"book__buttons-item bg-center bg-cover bg-no-repeat transition","data-type":"wishlist","data-status":j,onClick:function(){return m("wishlist")}})]})]})}),I=(c(70),function(){return Object(h.jsx)("div",{className:"loader-wrapper",children:Object(h.jsxs)("div",{className:"loader",children:[Object(h.jsxs)("div",{className:"inner",children:[Object(h.jsx)("div",{className:"left"}),Object(h.jsx)("div",{className:"middle"}),Object(h.jsx)("div",{className:"right"})]}),Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{}),Object(h.jsx)("li",{}),Object(h.jsx)("li",{}),Object(h.jsx)("li",{}),Object(h.jsx)("li",{}),Object(h.jsx)("li",{}),Object(h.jsx)("li",{}),Object(h.jsx)("li",{}),Object(h.jsx)("li",{}),Object(h.jsx)("li",{}),Object(h.jsx)("li",{}),Object(h.jsx)("li",{}),Object(h.jsx)("li",{}),Object(h.jsx)("li",{}),Object(h.jsx)("li",{}),Object(h.jsx)("li",{}),Object(h.jsx)("li",{}),Object(h.jsx)("li",{})]})]})})}),V=c(26),B=c(5),D=c.n(B),E=c(10),P=c(76);c(71);function q(){var e=function(){var e=function(){var e=Object(E.a)(D.a.mark((function e(){var t,c;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get(x.api.getComicsList);case 2:return t=e.sent,c=t.data,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=Object(P.a)("comics",e);return{isLoading:t.isLoading,isFetching:t.isFetching,error:t.error,data:t.data}}(),t=e.isLoading,c=e.isFetching,a=e.error,n=e.data,i=Object(r.useState)([]),o=Object(_.a)(i,2),s=o[0],l=o[1],b=Object(r.useState)([]),d=Object(_.a)(b,2),m=d[0],p=d[1],f=Object(r.useState)(!1),g=Object(_.a)(f,2),w=g[0],N=g[1],y=Object(r.useState)(""),C=Object(_.a)(y,2),L=C[0],B=C[1],q=Object(r.useState)(""),z=Object(_.a)(q,2),A=z[0],J=z[1],Q=function(e){J(""),B(e);var t=m.filter((function(t){return t.title.substring(0,1).toLowerCase()===e}));l(t)};return Object(r.useEffect)((function(){if(n){N(!0);var e=function(e){var t=e.map((function(e){return e.title}));return Object(O.a)({comparer:new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"}).compare})(t).asc().map((function(t){return e.find((function(e){return e.title===t}))}))}(n);l(e),p(e),N(!1)}}),[n]),Object(h.jsxs)(h.Fragment,{children:[n&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(S,{alphabet:j,currentLetter:L,handleChooseSection:Q}),Object(h.jsx)(S,{alphabet:u,currentLetter:L,handleChooseSection:Q}),Object(h.jsx)("p",{className:"mx-auto w-20 cursor-pointer border-transparent border-solid border border-transparent hover:border-yellow-500",onClick:function(){l(m),B("")},children:"\u0412\u0441\u0435"}),Object(h.jsxs)("div",{className:"search mt-5 mb-8 flex justify-center items-center gap-2.5",children:[Object(h.jsx)("input",{type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u0438\u043a\u0441\u0430",value:A,className:"input px-2.5 block h-7 max-w-xs w-full border border-yellow-300 rounded-md outline-none focus:border-pink-300",onChange:function(e){J(e.target.value),B("");var t=e.target.value.trim(),c=m.filter((function(e){return e.title.toLowerCase().replace(".","").replace(",","").replace("-"," ").replace("(","").replace(")","").includes(t.toLowerCase().replace(".","").replace("-"," "))}));l(c)}}),Object(h.jsx)("div",{className:"counter w-14 border border-yellow-300 rounded-md",children:s.length})]}),Object(h.jsx)("div",{className:"list m-auto flex justify-center flex-wrap ",children:s.length>0?s.map((function(e){return Object(h.jsx)(F,Object(v.a)({},e),e._id)})):Object(h.jsx)("p",{children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e :("})})]}),(t||w||c)&&Object(h.jsx)(I,{}),a&&Object(h.jsx)("p",{children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e :("}),Object(h.jsx)(V.ReactQueryDevtools,{initialIsOpen:!1})]})}c(72);var z=function(){var e=Object(g.g)()._id,t=function(e){var t=function(){var t=Object(E.a)(D.a.mark((function t(){var c,r;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.a.get(x.api.getComicsById(e),{params:{id:e}});case 2:return c=t.sent,r=c.data,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c=Object(P.a)("comicsItem",t);return{isLoading:c.isLoading,error:c.error,data:c.data,isFetching:c.isFetching}}(e),c=t.isLoading,r=t.error,a=t.data,n=t.isFetching,i=Object(N.a)(),o=i.register,s=i.handleSubmit,l=(Object(g.f)(),"my-2 px-2 w-full border border-yellow-400\trounded focus:outline-none focus:border-pink-300"),b="".concat(l," h-10 appearance-none"),u="".concat(l," pt-1 h-20 resize-none"),j=function(e){return Object(y.b)(e)};return r&&console.log({comicsError:r}),Object(h.jsxs)(h.Fragment,{children:[r&&Object(h.jsx)("p",{children:"\u041f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"}),(c||n)&&Object(h.jsx)(I,{}),a&&!n&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("form",{className:"mx-auto max-w-lg",onSubmit:s((function(t){k.a.post(x.api.updateComics(e),t).then((function(e){return"Ok"===e.data?j("\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043a\u043e\u043c\u0438\u043a\u0441\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430"):j("\u041f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430")}))})),children:[a.cover?Object(h.jsx)("img",{className:"book__img mx-auto mb-2 hover:cursor-pointer",src:a.cover,alt:a.title}):Object(h.jsx)("div",{className:"book__img book__img--mock mx-auto mb-2 hover:cursor-pointer"}),d.map((function(e){var t=a[e.db];return"description"===e.db?Object(h.jsx)("textarea",Object(v.a)({className:u,placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",defaultValue:t,disabled:!0},o(e.db)),e.db):Object(h.jsx)("input",Object(v.a)({className:b,type:"text",placeholder:e.ui,defaultValue:Array.isArray(t)?t.join(", ")||"":t||"",disabled:!0},o(e.db)),e.db)})),m]}),Object(h.jsx)(y.a,{})]}),Object(h.jsx)(V.ReactQueryDevtools,{initialIsOpen:!1})]})},A=function(){return Object(h.jsx)("p",{children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"})},J=function(){return Object(h.jsx)("main",{className:"my-3 px-5 w-full h-full",children:Object(h.jsxs)(g.c,{children:[Object(h.jsx)(g.a,{path:"*",element:Object(h.jsx)(A,{})}),Object(h.jsx)(g.a,{path:"/",element:Object(h.jsx)(q,{})}),Object(h.jsx)(g.a,{path:"/comics",element:Object(h.jsx)(q,{})}),Object(h.jsx)(g.a,{path:"/comics/:_id",element:Object(h.jsx)(z,{})}),m]})})},Q=function(){return Object(h.jsx)("footer",{className:"p-3 w-full bg-yellow-500 text-white font-bold",children:"@ 2021 Parrot Collection"})},R=function(){return Object(h.jsxs)("div",{className:"grid h-screen text-center wrapper",children:[Object(h.jsx)(f,{}),Object(h.jsx)(J,{}),Object(h.jsx)(Q,{})]})},M=function(){var e=new o.a({defaultOptions:{queries:{refetchOnWindowFocus:!1,keepPreviousData:!1}}});return Object(h.jsx)(l.a,{children:Object(h.jsx)(s.a,{client:e,children:Object(h.jsx)(R,{})})})};i.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(M,{})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.728dfa90.chunk.js.map