(this["webpackJsonpparrot-collection"]=this["webpackJsonpparrot-collection"]||[]).push([[0],{51:function(e,t,c){},52:function(e,t,c){},53:function(e,t,c){},75:function(e,t,c){},81:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),s=c(25),o=c.n(s),r=(c(51),c(52),c(30)),i=(c(53),c.p+"static/media/logo.9bfd69cb.svg"),l=c(2);function b(){return console.log(i),Object(l.jsx)("header",{className:"p-0.5 w-full bg-yellow-500",children:Object(l.jsx)("img",{src:i,alt:"Parrot",width:"60px",height:"auto",className:"mx-auto"})})}var u=c(7),j=c(8),p=c(20),d=c.n(p),m=c(45),x=c(32);c(74);function O(){var e=Object(m.a)(),t=e.register,c=e.handleSubmit,a=e.reset,n="mb-2 px-2 border border-yellow-400\trounded focus:outline-none focus:border-pink-300",s="".concat(n," h-10 appearance-none"),o="".concat(n," pt-1 h-20 resize-none");return Object(l.jsxs)("form",{className:"flex flex-col max-w-xs mt-2 mx-auto",name:"add-comics",onSubmit:c((function(e){var t=e.authors.split(", "),c=e.artists.split(", "),n=e.characters.split(", "),s=e.genres.split(", "),o="";if(e.title){var r={title:e.title,authors:t,artists:c,description:e.description,characters:n,cover:o,genres:s,edition:e.edition,year:e.year,includes:e.includes,volume:e.volume,book:e.book,publisher:e.publisher,original:e.original,original_publisher:e.original_publisher};if(e.cover[0])if(console.log(e.cover[0].size),e.cover[0].size>1e5)console.log("big file");else{var i=new FileReader;i.addEventListener("load",(function(e){o=e.target.result})),i.readAsDataURL(e.cover[0])}console.log(r),d.a.post("".concat("https://parrot-collection.herokuapp.com","/api/comics/add"),r).then((function(e){console.log(e),a(),Object(x.b)("\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e!")})).catch((function(e){console.log(e)}))}})),children:[Object(l.jsx)("input",Object(j.a)({className:s,type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"},t("title"))),Object(l.jsx)("input",Object(j.a)({className:s,type:"text",placeholder:"\u0410\u0432\u0442\u043e\u0440\u044b"},t("authors"))),Object(l.jsx)("input",Object(j.a)({className:s,type:"text",placeholder:"\u0425\u0443\u0434\u043e\u0436\u043d\u0438\u043a\u0438"},t("artists"))),Object(l.jsx)("textarea",Object(j.a)({className:o,placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"},t("description"))),Object(l.jsx)("input",Object(j.a)({className:s,type:"text",placeholder:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u0436/\u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0438"},t("characters"))),Object(l.jsx)("input",Object(j.a)({className:s,type:"text",placeholder:"\u0416\u0430\u043d\u0440/\u0436\u0430\u043d\u0440\u044b"},t("genres"))),Object(l.jsx)("input",Object(j.a)({className:s,type:"text",placeholder:"\u0422\u0438\u043f \u0438\u0437\u0434\u0430\u043d\u0438\u044f"},t("edition"))),Object(l.jsx)("input",Object(j.a)({className:s,type:"text",placeholder:"\u0412\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0432\u044b\u043f\u0443\u0441\u043a\u0438"},t("includes"))),Object(l.jsx)("input",Object(j.a)({className:s,type:"text",placeholder:"\u0422\u043e\u043c (\u0441\u0435\u0440\u0438\u044f), \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, Venom Volume 1"},t("volume"))),Object(l.jsx)("input",Object(j.a)({className:s,type:"number",placeholder:"\u041d\u043e\u043c\u0435\u0440 \u0442\u043e\u043c\u0430 (\u043a\u043d\u0438\u0433\u0430 \u0432 \u0441\u0435\u0440\u0438\u0438 - 1, 2, 3 \u0438 \u0442.\u0434)"},t("book"))),Object(l.jsx)("input",Object(j.a)({className:s,type:"number",placeholder:"\u0413\u043e\u0434 \u0438\u0437\u0434\u0430\u043d\u0438\u044f"},t("year"))),Object(l.jsx)("input",Object(j.a)({className:s,type:"text",placeholder:"\u0418\u0437\u0434\u0430\u0442\u0435\u043b\u044c"},t("publisher"))),Object(l.jsx)("input",Object(j.a)({className:s,type:"number",placeholder:"\u0413\u043e\u0434 \u0438\u0437\u0434\u0430\u043d\u0438\u044f \u043e\u0440\u0438\u0433\u0438\u043d\u0430\u043b\u0430"},t("original"))),Object(l.jsx)("input",Object(j.a)({className:s,type:"text",placeholder:"\u0418\u0437\u0434\u0430\u0442\u0435\u043b\u044c \u043e\u0440\u0438\u0433\u0438\u043d\u0430\u043b\u0430"},t("original_publisher"))),Object(l.jsx)("input",Object(j.a)({className:s,type:"file",placeholder:"\u0418\u0437\u0434\u0430\u0442\u0435\u043b\u044c \u043e\u0440\u0438\u0433\u0438\u043d\u0430\u043b\u0430"},t("cover"))),Object(l.jsx)("button",{type:"submit",className:"h-10 border border-transparent rounded bg-yellow-400 font-bold text-white",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),Object(l.jsx)(x.a,{})]})}var h=c(12),f=c(5),g=c.n(f),v=c(13),y=c(83),N=c(26),w=c(84),k=c(42),_=(c(75),c(85));function C(e){var t=Object(a.useState)(!1),c=Object(h.a)(t,2),n=c[0],s=c[1],o=Object(a.useState)(!1),r=Object(h.a)(o,2),i=r[0],b=r[1],u=Object(a.useState)(!1),j=Object(h.a)(u,2),p=j[0],m=j[1],x=(Object(_.a)((function(e){return d.a.delete("/comics/".concat(e._id),{})})),function(e){switch(e){case"collection":!1===n&&!0===p&&m(!1),s(!n);break;case"sell":b(!i);break;case"wishlist":m(!p)}});return Object(l.jsxs)("div",{className:"book grid",children:[e.cover?Object(l.jsx)("img",{className:"book__img mx-auto mb-2 hover:cursor-pointer",src:e.cover,alt:e.title}):Object(l.jsx)("div",{className:"book__img book__img--mock mx-auto mb-2 hover:cursor-pointer"}),Object(l.jsx)("p",{className:"book__title place-self-center text-sm",children:e.title}),Object(l.jsxs)("div",{className:"book__buttons mt-3 mx-auto flex justify-between",children:[Object(l.jsx)("div",{className:"book__buttons-item bg-center bg-cover bg-no-repeat transition","data-type":"collection","data-status":n,onClick:function(){return x("collection")}}),Object(l.jsx)("div",{className:"book__buttons-item bg-center bg-cover bg-no-repeat transition","data-type":"sell","data-status":i,onClick:function(){return x("sell")}}),Object(l.jsx)("div",{className:"book__buttons-item bg-center bg-cover bg-no-repeat transition","data-type":"wishlist","data-status":p,onClick:function(){return x("wishlist")}})]})]})}var F=new y.a;function L(){return Object(l.jsx)(N.a,{client:F,children:Object(l.jsx)(S,{})})}function S(){var e=function(){var e=Object(v.a)(g.a.mark((function e(){var t,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("".concat("https://parrot-collection.herokuapp.com","/api/comics/list"));case 2:return t=e.sent,c=t.data,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=Object(w.a)("comics",e),c=(t.isLoading,t.error,t.data);t.isFetching;return Object(l.jsxs)(l.Fragment,{children:[c?Object(l.jsx)(P,Object(j.a)({},c)):Object(l.jsx)("p",{children:"Loading"}),Object(l.jsx)(k.ReactQueryDevtools,{initialIsOpen:!1})]})}function P(e){var t=Object.values(e).sort((function(e,t){return e.title>t.title?1:e.title>t.title?-1:0})),c=Object(a.useState)(t),n=Object(h.a)(c,2),s=n[0],o=n[1];return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("input",{type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u0438\u043a\u0441\u0430",className:"input mt-5 mx-auto px-2.5 block h-7 max-w-xs w-full border border-yellow-300 rounded-md outline-none focus:border-pink-300",onChange:function(e){var c=e.target.value.trim(),a=t.filter((function(e){return e.title.toLowerCase().replace(".","").includes(c.toLowerCase().replace(".",""))}));o(a)}}),Object(l.jsx)("div",{className:"list m-auto flex justify-center flex-wrap",children:s.length>0?s.map((function(e){return Object(l.jsx)(C,Object(j.a)({},e),e._id)})):Object(l.jsx)("p",{children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e :("})})]})}function z(){return Object(l.jsx)("main",{className:"my-3 px-10 w-full h-full",children:Object(l.jsxs)(u.d,{children:[Object(l.jsx)(u.b,{path:"/add-comics",exact:!0,component:O}),Object(l.jsx)(u.b,{path:"/comics",exact:!0,component:L}),Object(l.jsx)(u.a,{from:"*",exact:!0,to:"/comics"})]})})}function D(){return Object(l.jsx)("footer",{className:"p-3 w-full bg-yellow-500 text-white font-bold",children:"@ 2021 Parrot Collection"})}function I(){return Object(l.jsxs)("div",{className:"grid h-screen text-center wrapper",children:[Object(l.jsx)(b,{}),Object(l.jsx)(z,{}),Object(l.jsx)(D,{})]})}var R=function(){return Object(l.jsx)("div",{className:"App",children:Object(l.jsx)(r.a,{children:Object(l.jsx)(I,{})})})},A=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,86)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,o=t.getTTFB;c(e),a(e),n(e),s(e),o(e)}))};o.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(R,{})}),document.getElementById("root")),A()}},[[81,1,2]]]);
//# sourceMappingURL=main.aa1508a3.chunk.js.map